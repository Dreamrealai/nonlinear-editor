# Vercel Deployment Guide - PREVENT DUPLICATE PROJECTS

## Current Configuration ✅

**Active Project:** `non-linear-editor` (in team `dream-real-b2bc4dd2`)
**Production URL:** https://non-linear-editor-nine.vercel.app
**Team:** dream-real-b2bc4dd2 (DreamReal)

## How to Prevent Duplicate Projects

### 1. NEVER run these commands without checking first:

```bash
# ❌ DANGEROUS - Creates new project if not linked
vercel

# ❌ DANGEROUS - Can create duplicate
vercel deploy

# ✅ SAFE - Always check link first
vercel projects ls --scope dream-real-b2bc4dd2
cat .vercel/project.json
```

### 2. Always Verify Link Before Deploying

**Before any deployment, run:**

```bash
# Check what project you're linked to
cat .vercel/project.json

# Should show:
# {"projectId":"prj_r3H9K9QePweipbpivXRVv6pXDU4H","orgId":"team_s2OpBb50fsLbpBroCGcfmsnE","projectName":"non-linear-editor-nine"}
```

**If `.vercel/` doesn't exist:**

```bash
# Re-link to existing project (DO NOT create new)
vercel link --project non-linear-editor-nine --yes
```

### 3. Git Push Auto-Deploys (Recommended)

**BEST PRACTICE:** Let GitHub push trigger deployments automatically.

✅ **Just use git:**

```bash
git add .
git commit -m "Your changes"
git push
```

Vercel will automatically deploy when you push to:

- `main` → Production deployment
- Any other branch → Preview deployment

### 4. Manual Deploy (If Needed)

**Only when necessary:**

```bash
# 1. ALWAYS check link first
cat .vercel/project.json

# 2. If linked correctly, deploy to preview
vercel --prod=false

# 3. Or deploy to production
vercel --prod
```

## Current Team Structure

You have TWO teams (potential confusion):

- `dream-real` (team ID: team_ra9Xgu9c3IP9hFzqynTmhkwp)
- `dream-real-b2bc4dd2` (team ID: team_s2OpBb50fsLbpBroCGcfmsnE) ← **USE THIS**

**Always specify the correct team:**

```bash
vercel --scope dream-real-b2bc4dd2
```

## Safeguards Added

### File: `.vercelignore`

Prevents certain files from being deployed.

### File: `.vercel/project.json` (committed to git)

**DO NOT DELETE THIS FILE** - It prevents duplicate project creation.

## What to Do If You Accidentally Create a Duplicate

1. **List all projects:**

   ```bash
   vercel projects ls --scope dream-real-b2bc4dd2
   ```

2. **Delete the wrong one via dashboard:**
   - Go to: https://vercel.com/dream-real-b2bc4dd2/PROJECT_NAME/settings
   - Scroll to bottom → "Delete Project"
   - Confirm deletion

3. **Re-link to correct project:**
   ```bash
   rm -rf .vercel
   vercel link --project non-linear-editor-nine --yes
   ```

## Environment Variables

All environment variables are managed in Vercel dashboard:

- https://vercel.com/dream-real-b2bc4dd2/non-linear-editor-nine/settings/environment-variables

**NEVER set them via CLI** - use the dashboard to avoid duplicates.

## Deployment Checklist

Before deploying:

- [ ] Check `.vercel/project.json` exists and shows correct project
- [ ] Verify team scope: `dream-real-b2bc4dd2`
- [ ] Run `vercel projects ls` to confirm only ONE project exists
- [ ] Prefer `git push` over manual `vercel` commands

## Quick Reference

| Action                | Command                                              |
| --------------------- | ---------------------------------------------------- |
| Check current link    | `cat .vercel/project.json`                           |
| List all projects     | `vercel projects ls --scope dream-real-b2bc4dd2`     |
| Re-link to project    | `vercel link --project non-linear-editor-nine --yes` |
| Deploy via git (BEST) | `git push`                                           |
| Manual preview deploy | `vercel --prod=false`                                |
| Manual prod deploy    | `vercel --prod`                                      |

## Common Mistakes to Avoid

❌ **DON'T:**

- Run `vercel` in a new terminal without checking `.vercel/`
- Run `vercel init` (creates new project)
- Delete `.vercel/` directory
- Switch teams without relinking
- Use different project names

✅ **DO:**

- Always `git push` for deployments
- Keep `.vercel/project.json` in git
- Check link before any manual deploy
- Use same team scope consistently
- Keep only ONE project per repository

## Automated Deployment (Current Setup)

Your GitHub repository is connected to Vercel:

- Repository: `Dreamrealai/nonlinear-editor`
- Auto-deploys on push to any branch
- No manual intervention needed

**Recommendation:** Never use `vercel` CLI for deployments - just use git!

---

**Last Updated:** October 24, 2025
**Active Project:** non-linear-editor-nine
**Team:** dream-real-b2bc4dd2
